!function(){function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,n){if(t){if("string"==typeof t)return e(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var n={asc:!0,currentColumnIndex:-1,cities:["","Tokyo","Singapore","London","New York","Edinburgh","San Francisco"]},r=function(e,t){var r=document.createElement("select"),o=document.createElement("label");if(n.cities.forEach(function(e){var t=document.createElement("option");t.value=e,t.label=e,r.append(t)}),r.setAttribute("data-qa","office"),r.required=!0,"FORM"===e.tagName){o.innerHTML=t.textContent,o.append(r),e.append(o);return}r.style.cssText="\n    width: 150px;\n    box-sizing: border-box;\n    border: 1px solid #808080;\n    border-radius: 4px;\n    color: #808080;\n    padding: 4px;\n    outline-color: #808080;\n  ",e.append(r)},o=function(e,t){var n=document.createElement("form"),o=document.createElement("button"),a=!0,i=!1,l=void 0;try{for(var c,d=t[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var u=c.value,s=u.textContent.toLocaleLowerCase(),f="age"===s||"salary"===s?"number":"text";if("office"===s){r(n,u);continue}var m=document.createElement("input");m.name=s,m.type=f,m.setAttribute("data-qa",s),n.innerHTML+="<label>".concat(u.textContent,": ").concat(m.outerHTML,"</label>")}}catch(e){i=!0,l=e}finally{try{a||null==d.return||d.return()}finally{if(i)throw l}}n.classList.add("new-employee-form"),o.textContent="Save to table",o.classList.add("submit"),n.append(o),e.append(n)},a=function(e,n){var r=e.querySelectorAll("label"),o=document.createElement("tr");t(r).forEach(function(e){"SELECT"===e.children[0].nodeName?o.innerHTML+="<td>".concat(e.children[0].selectedOptions[0].label,"</td>"):"salary"===e.children[0].name?o.innerHTML+="<td>".concat("$"+(+e.children[0].value).toLocaleString("en-US"),"</td>"):o.innerHTML+="<td>".concat(e.children[0].value,"</td>")}),n.tBodies[0].append(o),e.reset()},i=function(e,t,n){var r=document.createElement("div");r.style.cssText="\n    top: 10px;\n    right: 10px;\n    display: flex;\n    flex-direction: column;\n    text-align: center;\n  ",r.innerHTML='<h2 class="title">'.concat(e,"</h2><p>").concat(t,"</p>"),r.classList="notification ".concat(n),r.setAttribute("data-qa","notification"),document.body.append(r),setTimeout(function(){r.remove()},2500)},l=function(e){var n=e.querySelectorAll("input"),r=!0,o=!1,a=void 0;try{for(var l,c=t(n)[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var d=l.value;if("name"===d.name){if(d.value.length<4)return i("Error!","An error occurred while trying to add employee to the table.\n          Reason: name is too short","error"),!1;if(0===d.value.trim().length)return i("Error!","An error occurred while trying to add employee to the table.\n          Reason: name cannot contain only whitespaces","error"),!1}if("position"===d.name){if(!d.value.length)return i("Error!","An error occurred while trying to add employee to the table.\n          Reason: choose position","error"),!1;if(0===d.value.trim().length)return i("Error!","An error occurred while trying to add employee to the table.\n          Reason: position cannot contain only whitespaces","error"),!1}if("salary"===d.name&&!d.value.length)return i("Error!","An error occurred while trying to add employee to the table.\n          Reason: salary input cannot be empty","error"),!1;if("age"===d.name&&(18>+d.value||+d.value>90))return i("Error!","An error occurred while trying to add employee to the table.\n          Reason: age is not match the required range (18-90)","error"),!1}}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return i("Success!","The employee was successfully added to the table","success"),!0},c=function(e){return+e.split(",").join("").slice(1)},d=function(e,t){e!==n.currentColumnIndex&&(n.asc=!0),t.sort(function(t,r){var o=c(t.children[e].textContent),a=c(r.children[e].textContent);return n.asc?o-a:a-o}),n.asc=!n.asc,n.currentColumnIndex=e},u=function(e,r,o){if(o.includes(e.target)){var a=o.indexOf(e.target),i=t(r.tBodies[0].rows);"Salary"===o[a].textContent?d(a,i):(a!==n.currentColumnIndex&&(n.asc=!0),i.sort(function(e,t){var r=e.children[a].textContent,o=t.children[a].textContent;return isNaN(r)||isNaN(o)?n.asc?r.localeCompare(o):o.localeCompare(r):n.asc?parseFloat(r)-parseFloat(o):parseFloat(o)-parseFloat(r)}),n.asc=!n.asc),n.currentColumnIndex=a,i.forEach(function(e){r.tBodies[0].appendChild(e)})}},s=function(e,n){if("TD"===e.target.nodeName){e.target.parentNode.classList.toggle("active");var r=t(n.rows).indexOf(e.target.parentNode);t(n.rows).forEach(function(e,t){t!==r&&n.rows[t].classList.remove("active")})}},f=function(e,n){var o=e.target,a=t(o.parentNode.children).indexOf(o);if("TD"===o.nodeName){var i=o.textContent,l=document.createElement("input");l.classList.add("cell-input"),l.value=i,o.textContent="",o.append(l),l.focus(),2===a&&(o.firstChild.remove(),r(o,n[a]),o.firstChild.focus()),o.firstElementChild.addEventListener("blur",function(e){var t=e.target.value;2===a&&(t=e.target.selectedOptions[0].label),o.textContent=t||i,o.firstElementChild.remove()}),o.firstElementChild.addEventListener("keydown",function(e){if("Enter"===e.key){var t=e.target.value;2===a&&(t=e.target.selectedOptions[0].label),o.textContent=t||i,o.firstElementChild.remove()}})}},m=document.querySelector("table"),p=document.querySelector("body"),h=t(m.tHead.firstElementChild.children);document.addEventListener("DOMContentLoaded",function(){o(p,h),m.addEventListener("click",function(e){e.preventDefault(),u(e,m,h),s(e,m)}),m.tBodies[0].addEventListener("dblclick",function(e){f(e,h)});var e=document.querySelector("form");e.addEventListener("submit",function(t){t.preventDefault(),l(e)&&a(e,m)})})}();
//# sourceMappingURL=index.e92037dd.js.map
