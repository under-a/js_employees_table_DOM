{"mappings":"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","sources":["<anon>","src/scripts/main.js","src/scripts/components/addForm.js","src/scripts/components/addSelect.js","src/scripts/config/variables.js","src/scripts/components/addRow.js","src/scripts/utils/salarize.js","src/scripts/handlers/formValid.js","src/scripts/components/pushNotification.js","src/scripts/handlers/sortTable.js","src/scripts/utils/sortBySalary.js","src/scripts/utils/normalize.js","src/scripts/handlers/toggleActive.js","src/scripts/handlers/handleInputs.js"],"sourcesContent":["const $4ee245a0cfadda29$export$44c6a27b41bcee9f = {\n    asc: true,\n    currentColumnIndex: -1,\n    cities: [\n        \"\",\n        \"Tokyo\",\n        \"Singapore\",\n        \"London\",\n        \"New York\",\n        \"Edinburgh\",\n        \"San Francisco\"\n    ]\n};\n\n\nconst $dd6004db7fc4679e$var$addSelect = (element, th)=>{\n    const select = document.createElement(\"select\");\n    const label = document.createElement(\"label\");\n    (0, $4ee245a0cfadda29$export$44c6a27b41bcee9f).cities.forEach((city)=>{\n        const option = document.createElement(\"option\");\n        option.value = city;\n        option.label = city;\n        select.append(option);\n    });\n    select.setAttribute(\"data-qa\", \"office\");\n    select.required = true;\n    if (element.tagName === \"FORM\") {\n        label.innerHTML = th.textContent;\n        label.append(select);\n        element.append(label);\n        return;\n    }\n    select.style.cssText = `\n    width: 150px;\n    box-sizing: border-box;\n    border: 1px solid #808080;\n    border-radius: 4px;\n    color: #808080;\n    padding: 4px;\n    outline-color: #808080;\n  `;\n    element.append(select);\n};\nvar $dd6004db7fc4679e$export$2e2bcd8739ae039 = $dd6004db7fc4679e$var$addSelect;\n\n\nconst $dbac4a92f4a2eb27$var$addForm = (body, ths)=>{\n    const form = document.createElement(\"form\");\n    const submitBtn = document.createElement(\"button\");\n    for (const th of ths){\n        const inputName = th.textContent.toLocaleLowerCase();\n        const type = inputName === \"age\" || inputName === \"salary\" ? \"number\" : \"text\";\n        if (inputName === \"office\") {\n            (0, $dd6004db7fc4679e$export$2e2bcd8739ae039)(form, th);\n            continue;\n        }\n        const input = document.createElement(\"input\");\n        input.name = inputName;\n        input.type = type;\n        input.setAttribute(\"data-qa\", inputName);\n        // input.required = true;\n        form.innerHTML += `<label>${th.textContent}: ${input.outerHTML}</label>`;\n    }\n    form.classList.add(\"new-employee-form\");\n    submitBtn.textContent = \"Save to table\";\n    submitBtn.classList.add(\"submit\");\n    form.append(submitBtn);\n    body.append(form);\n};\nvar $dbac4a92f4a2eb27$export$2e2bcd8739ae039 = $dbac4a92f4a2eb27$var$addForm;\n\n\nconst $a45e044cca12de85$var$salarize = (string)=>{\n    return \"$\" + (+string).toLocaleString(\"en-US\");\n};\nvar $a45e044cca12de85$export$2e2bcd8739ae039 = $a45e044cca12de85$var$salarize;\n\n\nfunction $6f6d8566c13d031d$var$addRow(form, table) {\n    const dataFields = form.querySelectorAll(\"label\");\n    const tr = document.createElement(\"tr\");\n    [\n        ...dataFields\n    ].forEach((field)=>{\n        if (field.children[0].nodeName === \"SELECT\") tr.innerHTML += `<td>${field.children[0].selectedOptions[0].label}</td>`;\n        else if (field.children[0].name === \"salary\") tr.innerHTML += `<td>${(0, $a45e044cca12de85$export$2e2bcd8739ae039)(field.children[0].value)}</td>`;\n        else tr.innerHTML += `<td>${field.children[0].value}</td>`;\n    });\n    table.tBodies[0].append(tr);\n    form.reset();\n}\nvar $6f6d8566c13d031d$export$2e2bcd8739ae039 = $6f6d8566c13d031d$var$addRow;\n\n\nconst $9815d29787ed9994$var$pushNotification = (title, description, type)=>{\n    const notification = document.createElement(\"div\");\n    notification.style.cssText = `\n    top: 10px;\n    right: 10px;\n    display: flex;\n    flex-direction: column;\n    text-align: center;\n  `;\n    notification.innerHTML = `<h2 class=\"title\">${title}</h2><p>${description}</p>`;\n    notification.classList = `notification ${type}`;\n    notification.setAttribute(\"data-qa\", \"notification\");\n    document.body.append(notification);\n    setTimeout(()=>{\n        notification.remove();\n    }, 2500);\n};\nvar $9815d29787ed9994$export$2e2bcd8739ae039 = $9815d29787ed9994$var$pushNotification;\n\n\nconst $ce1c5f3398339c6f$var$formValid = (form)=>{\n    const inputs = form.querySelectorAll(\"input\");\n    for (const input of [\n        ...inputs\n    ]){\n        if (input.name === \"name\") {\n            if (input.value.length < 4) {\n                (0, $9815d29787ed9994$export$2e2bcd8739ae039)(\"Error!\", `An error occurred while trying to add employee to the table.\n          Reason: name is too short`, \"error\");\n                return false;\n            }\n            if (input.value.trim().length === 0) {\n                (0, $9815d29787ed9994$export$2e2bcd8739ae039)(\"Error!\", `An error occurred while trying to add employee to the table.\n          Reason: name cannot contain only whitespaces`, \"error\");\n                return false;\n            }\n        }\n        if (input.name === \"position\") {\n            if (!input.value.length) {\n                (0, $9815d29787ed9994$export$2e2bcd8739ae039)(\"Error!\", `An error occurred while trying to add employee to the table.\n          Reason: choose position`, \"error\");\n                return false;\n            }\n            if (input.value.trim().length === 0) {\n                (0, $9815d29787ed9994$export$2e2bcd8739ae039)(\"Error!\", `An error occurred while trying to add employee to the table.\n          Reason: position cannot contain only whitespaces`, \"error\");\n                return false;\n            }\n        }\n        if (input.name === \"salary\") {\n            if (!input.value.length) {\n                (0, $9815d29787ed9994$export$2e2bcd8739ae039)(\"Error!\", `An error occurred while trying to add employee to the table.\n          Reason: salary input cannot be empty`, \"error\");\n                return false;\n            }\n        }\n        if (input.name === \"age\") {\n            if (+input.value < 18 || +input.value > 90) {\n                (0, $9815d29787ed9994$export$2e2bcd8739ae039)(\"Error!\", `An error occurred while trying to add employee to the table.\n          Reason: age is not match the required range (18-90)`, \"error\");\n                return false;\n            }\n        }\n    }\n    (0, $9815d29787ed9994$export$2e2bcd8739ae039)(\"Success!\", \"The employee was successfully added to the table\", \"success\");\n    return true;\n};\nvar $ce1c5f3398339c6f$export$2e2bcd8739ae039 = $ce1c5f3398339c6f$var$formValid;\n\n\n\n\nconst $2ee305362712c5bf$var$normalize = (stringSalary)=>{\n    return +stringSalary.split(\",\").join(\"\").slice(1);\n};\nvar $2ee305362712c5bf$export$2e2bcd8739ae039 = $2ee305362712c5bf$var$normalize;\n\n\nconst $f90b6fefee66eadf$var$sortBySalary = (columnIndex, rows)=>{\n    if (columnIndex !== (0, $4ee245a0cfadda29$export$44c6a27b41bcee9f).currentColumnIndex) (0, $4ee245a0cfadda29$export$44c6a27b41bcee9f).asc = true;\n    rows.sort((a, b)=>{\n        const salaryA = (0, $2ee305362712c5bf$export$2e2bcd8739ae039)(a.children[columnIndex].textContent);\n        const salaryB = (0, $2ee305362712c5bf$export$2e2bcd8739ae039)(b.children[columnIndex].textContent);\n        return (0, $4ee245a0cfadda29$export$44c6a27b41bcee9f).asc ? salaryA - salaryB : salaryB - salaryA;\n    });\n    (0, $4ee245a0cfadda29$export$44c6a27b41bcee9f).asc = !(0, $4ee245a0cfadda29$export$44c6a27b41bcee9f).asc;\n    (0, $4ee245a0cfadda29$export$44c6a27b41bcee9f).currentColumnIndex = columnIndex;\n};\nvar $f90b6fefee66eadf$export$2e2bcd8739ae039 = $f90b6fefee66eadf$var$sortBySalary;\n\n\nconst $17fa773f107e7d1d$var$sortTable = (ev, table, ths)=>{\n    if (ths.includes(ev.target)) {\n        const thIndex = ths.indexOf(ev.target);\n        const rows = [\n            ...table.tBodies[0].rows\n        ];\n        if (ths[thIndex].textContent === \"Salary\") (0, $f90b6fefee66eadf$export$2e2bcd8739ae039)(thIndex, rows);\n        else {\n            if (thIndex !== (0, $4ee245a0cfadda29$export$44c6a27b41bcee9f).currentColumnIndex) (0, $4ee245a0cfadda29$export$44c6a27b41bcee9f).asc = true;\n            rows.sort((rowA, rowB)=>{\n                const textA = rowA.children[thIndex].textContent;\n                const textB = rowB.children[thIndex].textContent;\n                if (!isNaN(textA) && !isNaN(textB)) return (0, $4ee245a0cfadda29$export$44c6a27b41bcee9f).asc ? parseFloat(textA) - parseFloat(textB) : parseFloat(textB) - parseFloat(textA);\n                else return (0, $4ee245a0cfadda29$export$44c6a27b41bcee9f).asc ? textA.localeCompare(textB) : textB.localeCompare(textA);\n            });\n            (0, $4ee245a0cfadda29$export$44c6a27b41bcee9f).asc = !(0, $4ee245a0cfadda29$export$44c6a27b41bcee9f).asc;\n        }\n        (0, $4ee245a0cfadda29$export$44c6a27b41bcee9f).currentColumnIndex = thIndex;\n        rows.forEach((row)=>{\n            table.tBodies[0].appendChild(row);\n        });\n    }\n};\nvar $17fa773f107e7d1d$export$2e2bcd8739ae039 = $17fa773f107e7d1d$var$sortTable;\n\n\nconst $4b44d327d0ee856f$var$toggleActive = (ev, table)=>{\n    if (ev.target.nodeName === \"TD\") {\n        ev.target.parentNode.classList.toggle(\"active\");\n        const activeRow = [\n            ...table.rows\n        ].indexOf(ev.target.parentNode);\n        [\n            ...table.rows\n        ].forEach((row, index)=>{\n            if (index !== activeRow) table.rows[index].classList.remove(\"active\");\n        });\n    }\n};\nvar $4b44d327d0ee856f$export$2e2bcd8739ae039 = $4b44d327d0ee856f$var$toggleActive;\n\n\n\nconst $e55325105b8c1d31$var$handleInputs = (ev, ths)=>{\n    const cell = ev.target;\n    const thIndex = [\n        ...cell.parentNode.children\n    ].indexOf(cell);\n    if (cell.nodeName !== \"TD\") return;\n    const initialText = cell.textContent;\n    const input = document.createElement(\"input\");\n    input.classList.add(\"cell-input\");\n    input.value = initialText;\n    cell.textContent = \"\";\n    cell.append(input);\n    input.focus();\n    if (thIndex === 2) {\n        cell.firstChild.remove();\n        (0, $dd6004db7fc4679e$export$2e2bcd8739ae039)(cell, ths[thIndex]);\n        cell.firstChild.focus();\n    }\n    cell.firstElementChild.addEventListener(\"blur\", (e)=>{\n        let cellContent = e.target.value;\n        if (thIndex === 2) cellContent = e.target.selectedOptions[0].label;\n        cell.textContent = cellContent || initialText;\n        cell.firstElementChild.remove();\n    });\n    cell.firstElementChild.addEventListener(\"keydown\", (e)=>{\n        if (e.key === \"Enter\") {\n            let cellContent = e.target.value;\n            if (thIndex === 2) cellContent = e.target.selectedOptions[0].label;\n            cell.textContent = cellContent || initialText;\n            cell.firstElementChild.remove();\n        }\n    });\n};\nvar $e55325105b8c1d31$export$2e2bcd8739ae039 = $e55325105b8c1d31$var$handleInputs;\n\n\n\"use strict\";\nconst $09e991522ca7e64e$var$table = document.querySelector(\"table\");\nconst $09e991522ca7e64e$var$body = document.querySelector(\"body\");\nconst $09e991522ca7e64e$var$ths = [\n    ...$09e991522ca7e64e$var$table.tHead.firstElementChild.children\n];\ndocument.addEventListener(\"DOMContentLoaded\", ()=>{\n    (0, $dbac4a92f4a2eb27$export$2e2bcd8739ae039)($09e991522ca7e64e$var$body, $09e991522ca7e64e$var$ths);\n    $09e991522ca7e64e$var$table.addEventListener(\"click\", (e)=>{\n        e.preventDefault();\n        (0, $17fa773f107e7d1d$export$2e2bcd8739ae039)(e, $09e991522ca7e64e$var$table, $09e991522ca7e64e$var$ths);\n        (0, $4b44d327d0ee856f$export$2e2bcd8739ae039)(e, $09e991522ca7e64e$var$table);\n    });\n    $09e991522ca7e64e$var$table.tBodies[0].addEventListener(\"dblclick\", (e)=>{\n        (0, $e55325105b8c1d31$export$2e2bcd8739ae039)(e, $09e991522ca7e64e$var$ths);\n    });\n    const form = document.querySelector(\"form\");\n    form.addEventListener(\"submit\", (e)=>{\n        e.preventDefault();\n        if ((0, $ce1c5f3398339c6f$export$2e2bcd8739ae039)(form)) (0, $6f6d8566c13d031d$export$2e2bcd8739ae039)(form, $09e991522ca7e64e$var$table);\n    });\n});\n\n\n//# sourceMappingURL=index.451008fc.js.map\n","'use strict';\n\nimport addForm from './components/addForm';\nimport addRow from './components/addRow';\nimport formValid from './handlers/formValid';\nimport sortTable from './handlers/sortTable';\nimport toggleActive from './handlers/toggleActive';\nimport handleInputs from './handlers/handleInputs';\n\nconst table = document.querySelector('table');\nconst body = document.querySelector('body');\nconst ths = [...table.tHead.firstElementChild.children];\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  addForm(body, ths);\n\n  table.addEventListener('click', (e) => {\n    e.preventDefault();\n\n    sortTable(e, table, ths);\n    toggleActive(e, table);\n  });\n\n  table.tBodies[0].addEventListener('dblclick', (e) => {\n    handleInputs(e, ths);\n  });\n\n  const form = document.querySelector('form');\n\n  form.addEventListener('submit', (e) => {\n    e.preventDefault();\n\n    if (formValid(form)) {\n      addRow(form, table);\n    }\n  });\n});\n","import addSelect from './addSelect';\n\nconst addForm = (body, ths) => {\n  const form = document.createElement('form');\n  const submitBtn = document.createElement('button');\n\n  for (const th of ths) {\n    const inputName = th.textContent.toLocaleLowerCase();\n    const type =\n      inputName === 'age' || inputName === 'salary' ? 'number' : 'text';\n\n    if (inputName === 'office') {\n      addSelect(form, th);\n      continue;\n    }\n\n    const input = document.createElement('input');\n\n    input.name = inputName;\n    input.type = type;\n    input.setAttribute('data-qa', inputName);\n    // input.required = true;\n\n    form.innerHTML += `<label>${th.textContent}: ${input.outerHTML}</label>`;\n  }\n  form.classList.add('new-employee-form');\n  submitBtn.textContent = 'Save to table';\n  submitBtn.classList.add('submit');\n\n  form.append(submitBtn);\n  body.append(form);\n};\n\nexport default addForm;\n","import { variables } from './../config/variables';\n\nconst addSelect = (element, th) => {\n  const select = document.createElement('select');\n  const label = document.createElement('label');\n\n  variables.cities.forEach((city) => {\n    const option = document.createElement('option');\n\n    option.value = city;\n    option.label = city;\n    select.append(option);\n  });\n\n  select.setAttribute('data-qa', 'office');\n  select.required = true;\n\n  if (element.tagName === 'FORM') {\n    label.innerHTML = th.textContent;\n\n    label.append(select);\n    element.append(label);\n\n    return;\n  }\n\n  select.style.cssText = `\n    width: 150px;\n    box-sizing: border-box;\n    border: 1px solid #808080;\n    border-radius: 4px;\n    color: #808080;\n    padding: 4px;\n    outline-color: #808080;\n  `;\n\n  element.append(select);\n};\n\nexport default addSelect;\n","export const variables = {\n  asc: true,\n  currentColumnIndex: -1,\n  cities: [\n    '',\n    'Tokyo',\n    'Singapore',\n    'London',\n    'New York',\n    'Edinburgh',\n    'San Francisco',\n  ],\n};\n","import salarize from '../utils/salarize';\n\nfunction addRow(form, table) {\n  const dataFields = form.querySelectorAll('label');\n  const tr = document.createElement('tr');\n\n  [...dataFields].forEach((field) => {\n    if (field.children[0].nodeName === 'SELECT') {\n      tr.innerHTML += `<td>${field.children[0].selectedOptions[0].label}</td>`;\n    } else if (field.children[0].name === 'salary') {\n      tr.innerHTML += `<td>${salarize(field.children[0].value)}</td>`;\n    } else {\n      tr.innerHTML += `<td>${field.children[0].value}</td>`;\n    }\n  });\n\n  table.tBodies[0].append(tr);\n  form.reset();\n}\n\nexport default addRow;\n","const salarize = (string) => {\n  return '$' + (+string).toLocaleString('en-US');\n};\n\nexport default salarize;\n","import pushNotification from '../components/pushNotification';\n\nconst formValid = (form) => {\n  const inputs = form.querySelectorAll('input');\n\n  for (const input of [...inputs]) {\n    if (input.name === 'name') {\n      if (input.value.length < 4) {\n        pushNotification(\n          'Error!',\n          `An error occurred while trying to add employee to the table.\n          Reason: name is too short`,\n          'error',\n        );\n\n        return false;\n      }\n\n      if (input.value.trim().length === 0) {\n        pushNotification(\n          'Error!',\n          `An error occurred while trying to add employee to the table.\n          Reason: name cannot contain only whitespaces`,\n          'error',\n        );\n\n        return false;\n      }\n    }\n\n    if (input.name === 'position') {\n      if (!input.value.length) {\n        pushNotification(\n          'Error!',\n          `An error occurred while trying to add employee to the table.\n          Reason: choose position`,\n          'error',\n        );\n\n        return false;\n      }\n\n      if (input.value.trim().length === 0) {\n        pushNotification(\n          'Error!',\n          `An error occurred while trying to add employee to the table.\n          Reason: position cannot contain only whitespaces`,\n          'error',\n        );\n\n        return false;\n      }\n    }\n\n    if (input.name === 'salary') {\n      if (!input.value.length) {\n        pushNotification(\n          'Error!',\n          `An error occurred while trying to add employee to the table.\n          Reason: salary input cannot be empty`,\n          'error',\n        );\n\n        return false;\n      }\n    }\n\n    if (input.name === 'age') {\n      if (+input.value < 18 || +input.value > 90) {\n        pushNotification(\n          'Error!',\n          `An error occurred while trying to add employee to the table.\n          Reason: age is not match the required range (18-90)`,\n          'error',\n        );\n\n        return false;\n      }\n    }\n  }\n\n  pushNotification(\n    'Success!',\n    'The employee was successfully added to the table',\n    'success',\n  );\n\n  return true;\n};\n\nexport default formValid;\n","const pushNotification = (title, description, type) => {\n  const notification = document.createElement('div');\n\n  notification.style.cssText = `\n    top: 10px;\n    right: 10px;\n    display: flex;\n    flex-direction: column;\n    text-align: center;\n  `;\n\n  notification.innerHTML = `<h2 class=\"title\">${title}</h2><p>${description}</p>`;\n  notification.classList = `notification ${type}`;\n  notification.setAttribute('data-qa', 'notification');\n  document.body.append(notification);\n\n  setTimeout(() => {\n    notification.remove();\n  }, 2500);\n};\n\nexport default pushNotification;\n","import { variables } from './../config/variables';\nimport sortBySalary from './../utils/sortBySalary';\n\nconst sortTable = (ev, table, ths) => {\n  if (ths.includes(ev.target)) {\n    const thIndex = ths.indexOf(ev.target);\n    const rows = [...table.tBodies[0].rows];\n\n    if (ths[thIndex].textContent === 'Salary') {\n      sortBySalary(thIndex, rows);\n    } else {\n      if (thIndex !== variables.currentColumnIndex) {\n        variables.asc = true;\n      }\n\n      rows.sort((rowA, rowB) => {\n        const textA = rowA.children[thIndex].textContent;\n        const textB = rowB.children[thIndex].textContent;\n\n        if (!isNaN(textA) && !isNaN(textB)) {\n          return variables.asc\n            ? parseFloat(textA) - parseFloat(textB)\n            : parseFloat(textB) - parseFloat(textA);\n        } else {\n          return variables.asc\n            ? textA.localeCompare(textB)\n            : textB.localeCompare(textA);\n        }\n      });\n\n      variables.asc = !variables.asc;\n    }\n    variables.currentColumnIndex = thIndex;\n\n    rows.forEach((row) => {\n      table.tBodies[0].appendChild(row);\n    });\n  }\n};\n\nexport default sortTable;\n","import { variables } from './../config/variables';\nimport normalize from './normalize';\n\nconst sortBySalary = (columnIndex, rows) => {\n  if (columnIndex !== variables.currentColumnIndex) {\n    variables.asc = true;\n  }\n\n  rows.sort((a, b) => {\n    const salaryA = normalize(a.children[columnIndex].textContent);\n    const salaryB = normalize(b.children[columnIndex].textContent);\n\n    return variables.asc ? salaryA - salaryB : salaryB - salaryA;\n  });\n\n  variables.asc = !variables.asc;\n  variables.currentColumnIndex = columnIndex;\n};\n\nexport default sortBySalary;\n","const normalize = (stringSalary) => {\n  return +stringSalary.split(',').join('').slice(1);\n};\n\nexport default normalize;\n","const toggleActive = (ev, table) => {\n  if (ev.target.nodeName === 'TD') {\n    ev.target.parentNode.classList.toggle('active');\n\n    const activeRow = [...table.rows].indexOf(ev.target.parentNode);\n\n    [...table.rows].forEach((row, index) => {\n      if (index !== activeRow) {\n        table.rows[index].classList.remove('active');\n      }\n    });\n  }\n};\n\nexport default toggleActive;\n","import addSelect from '../components/addSelect';\n\nconst handleInputs = (ev, ths) => {\n  const cell = ev.target;\n  const thIndex = [...cell.parentNode.children].indexOf(cell);\n\n  if (cell.nodeName !== 'TD') {\n    return;\n  }\n\n  const initialText = cell.textContent;\n  const input = document.createElement('input');\n\n  input.classList.add('cell-input');\n  input.value = initialText;\n  cell.textContent = '';\n  cell.append(input);\n  input.focus();\n\n  if (thIndex === 2) {\n    cell.firstChild.remove();\n    addSelect(cell, ths[thIndex]);\n    cell.firstChild.focus();\n  }\n\n  cell.firstElementChild.addEventListener('blur', (e) => {\n    let cellContent = e.target.value;\n\n    if (thIndex === 2) {\n      cellContent = e.target.selectedOptions[0].label;\n    }\n\n    cell.textContent = cellContent || initialText;\n    cell.firstElementChild.remove();\n  });\n\n  cell.firstElementChild.addEventListener('keydown', (e) => {\n    if (e.key === 'Enter') {\n      let cellContent = e.target.value;\n\n      if (thIndex === 2) {\n        cellContent = e.target.selectedOptions[0].label;\n      }\n\n      cell.textContent = cellContent || initialText;\n      cell.firstElementChild.remove();\n    }\n  });\n};\n\nexport default handleInputs;\n"],"names":["$4ee245a0cfadda29$export$44c6a27b41bcee9f","asc","currentColumnIndex","cities","$dd6004db7fc4679e$export$2e2bcd8739ae039","element","th","select","document","createElement","label","forEach","city","option","value","append","setAttribute","required","tagName","innerHTML","textContent","style","cssText","$dbac4a92f4a2eb27$export$2e2bcd8739ae039","body","ths","form","submitBtn","inputName","toLocaleLowerCase","type","input","name","outerHTML","classList","add","$a45e044cca12de85$export$2e2bcd8739ae039","string","toLocaleString","$6f6d8566c13d031d$export$2e2bcd8739ae039","table","dataFields","querySelectorAll","tr","field","children","nodeName","selectedOptions","tBodies","reset","$9815d29787ed9994$export$2e2bcd8739ae039","title","description","notification","setTimeout","remove","$ce1c5f3398339c6f$export$2e2bcd8739ae039","length","trim","$2ee305362712c5bf$export$2e2bcd8739ae039","stringSalary","split","join","slice","$f90b6fefee66eadf$export$2e2bcd8739ae039","columnIndex","rows","sort","a","b","salaryA","salaryB","$17fa773f107e7d1d$export$2e2bcd8739ae039","ev","includes","target","thIndex","indexOf","rowA","rowB","textA","textB","isNaN","localeCompare","parseFloat","row","appendChild","$4b44d327d0ee856f$export$2e2bcd8739ae039","parentNode","toggle","activeRow","index","$e55325105b8c1d31$export$2e2bcd8739ae039","cell","initialText","focus","firstChild","firstElementChild","addEventListener","e","cellContent","key","$09e991522ca7e64e$var$table","querySelector","$09e991522ca7e64e$var$body","$09e991522ca7e64e$var$ths","tHead","preventDefault"],"version":3,"file":"index.451008fc.js.map"}